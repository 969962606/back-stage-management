webpackJsonp([13],{iKPH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Vbaa"),i=a("1onU"),n=a("gyMJ"),r={name:"UserList",components:{Search:s.a,Pagination:i.a},filters:{statusFilter:function(t){return{published:"success",draft:"gray",deleted:"danger"}[t]}},data:function(){return{BASEURL:"https://api.echongya.com",genderStr:{MALE:"男",FEMALE:"女",UNKNOW:"未知"},list:null,listLoading:!1,total:0,listQuery:{page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id"},keyword:"",placeholder:"请输入昵称或手机号",userIds:"",exportHref:""}},mounted:function(){this.getList()},methods:{exportData:function(){if(""===this.userIds)this.$message.info("请选择您需要导出的数据！");else{var t=this.BASEURL+"/v1/platform/user/export?userIds="+this.userIds;window.open(t)}},selectionChange:function(t){var e="";if(t.length>0){for(var a=0;a<t.length;a++)e=0===a?""+t[a].userId:e+":"+t[a].userId;this.userIds=e}else this.userIds=""},getList:function(){var t=this;this.listLoading=!0,Object(n.a)("/v1/platform/user/users?keyword="+this.keyword+"&pageNo="+this.listQuery.page+"&pageSize="+this.listQuery.limit).then(function(e){t.list=e.data.resultData.users,t.total=e.data.resultData.totalNum,t.listLoading=!1})},searchHandle:function(t){this.keyword=t,this.listQuery.page=1,this.getList()}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("search",{attrs:{placeholder:t.placeholder},on:{searchHandle:t.searchHandle}}),t._v(" "),a("a",{ref:"exportLink",on:{click:t.exportData}},[t.isHasPermissions("USER_LIST:EXPORT")?a("el-button",{staticStyle:{float:"right"}},[t._v("导出数据")]):t._e()],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"正在加载...","highlight-current-row":"","header-cell-style":{background:"#F4F5F8",color:"#666666"}},on:{"selection-change":t.selectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickName",align:"center",label:"昵称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",[a("img",{attrs:{src:t.row.userAvatar,alt:"",width:"40px",height:"40px"}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"phonenumber",label:"电话号码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"class-name":"status-col",label:"性别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.genderStr[e.row.gender]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n          "+t._s(e.row.province)+" "+t._s(e.row.city)+"\n          "+t._s(e.row.district)+"\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"source",label:"支付类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",["ALIPLAY"===e.row.source?a("svg-icon",{staticClass:"pay",attrs:{"icon-class":"alipay"}}):t._e(),t._v(" "),"WECHAT"===e.row.source?a("svg-icon",{staticClass:"pay",attrs:{"icon-class":"WeChat"}}):t._e()],1)]}}])})],1),t._v(" "),a("pagination",{attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)},staticRenderFns:[]},o=a("VU/8")(r,l,!1,null,null,null);e.default=o.exports}});